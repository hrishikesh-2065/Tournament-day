<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Physics — Units, E&M, Semiconductors, Thermometry & Fiber Optics (Interactive)</title>
  <!--
    Single-file interactive lesson. Paste this into VS Code as `index.html` and open in a browser.
    Features:
      - Explanations with quick analogies
      - Inline SVG diagrams and small canvas demos
      - Interactive sliders for Ohm's law, thermometry expansion, fiber ray-trace
      - Small transistor/diode interactive visual
      - QUIZ, printable "Download PDF" via html2pdf (CDN)
    Notes:
      - Replace the placeholder images/videos (if you want) by editing <img> src attributes.
      - This file uses CDN libraries (html2pdf, simple icons). If offline, remove pdf export or install locally.
  -->
  <style>
    :root{--accent:#0ea5a4;--bg:#0f172a;--card:#0b1220;--glass:rgba(255,255,255,0.04)}
    *{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{margin:0;background:linear-gradient(180deg,#071029 0%, #071827 100%);color:#e6eef8;padding:20px}
    header{display:flex;gap:16px;align-items:center}
    h1{margin:0;font-size:20px}
    .container{max-width:1100px;margin:18px auto}
    nav{display:flex;gap:8px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:14px;margin:12px 0;box-shadow:0 6px 18px rgba(0,0,0,0.45)}
    .row{display:flex;gap:12px}
    .col{flex:1}
    .left{min-width:360px}
    button{background:var(--accent);color:#022; border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
    .muted{color:#94a3b8;font-size:13px}
    .kpi{display:inline-block;background:var(--glass);padding:6px 8px;border-radius:8px;margin-right:6px}
    label{display:block;font-size:13px;margin:8px 0}
    input[type=range]{width:100%}
    .svgbig{width:100%;height:220px}
    .small{font-size:13px;color:#cbd5e1}
    footer{margin-top:18px;color:#98aFC8;font-size:13px}
    .quiz button{display:block;margin:8px 0}
    pre{background:#021123;padding:10px;border-radius:8px;overflow:auto}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    .hint{background:#041024;padding:8px;border-radius:8px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Physics Alive — Interactive Lessons (paste as <code>index.html</code>)</h1>
        <div class="muted">Units, Electricity & Magnetism, Semiconductors, Thermometry & Fiber Optics — with live demos</div>
      </div>
      <nav style="margin-left:auto">
        <button id="exportPdf">Download PDF of page</button>
        <button id="reset">Reset Interactives</button>
      </nav>
    </header>

    <!-- Units & Measurements -->
    <section class="card" id="units">
      <h2>1 • Units & Measurements — "Gym Trainer"</h2>
      <div class="row">
        <div class="col left">
          <p class="small">Think of the 7 SI base units as your basic lifts. Everything else (derived units) is a variation. If a base is wrong — your whole routine is broken.</p>

          <div class="hint">
            <strong>Base units:</strong> length (m), mass (kg), time (s), electric current (A), temperature (K), amount (mol), luminous intensity (cd).
          </div>

          <h3 style="margin-top:12px">Error Types (train with precision)</h3>
          <ul class="small">
            <li><strong>Systematic:</strong> scale always wrong (bias).</li>
            <li><strong>Random:</strong> jitter between attempts.</li>
            <li><strong>Least-count:</strong> instrument limit (can't measure smaller).</li>
          </ul>

          <h3>Quick practice — unit conversions</h3>
          <pre>Example: Convert 72 km/h → m/s
72 * 1000 / 3600 = 20 m/s</pre>

          <div class="small">Tip: Always do units first — cancel units like algebra.</div>
        </div>
        <div class="col">
          <!-- SVG for measurement tools -->
          <svg class="svgbig" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#0ea5a4"/><stop offset="1" stop-color="#06b6d4"/></linearGradient>
            </defs>
            <rect x="0" y="0" width="800" height="400" rx="10" fill="#041427"/>
            <!-- ruler -->
            <rect x="40" y="40" width="520" height="60" rx="6" fill="#073046" stroke="#08364c"/>
            <g stroke="#9bd5d3" stroke-width="2">
              <!-- ticks -->
              <line x1="50" y1="80" x2="50" y2="70"/>
              <line x1="90" y1="80" x2="90" y2="65"/>
              <line x1="130" y1="80" x2="130" y2="70"/>
              <line x1="170" y1="80" x2="170" y2="65"/>
              <line x1="210" y1="80" x2="210" y2="70"/>
              <line x1="250" y1="80" x2="250" y2="65"/>
            </g>
            <text x="60" y="55" fill="#aeeadf" font-size="14">Ruler (length)</text>

            <!-- scale -->
            <rect x="600" y="40" width="140" height="160" rx="8" fill="#072233"/>
            <circle cx="670" cy="120" r="44" fill="#082f3a" stroke="#0ea5a4"/>
            <text x="648" y="75" fill="#aeeadf">Scale</text>
            <text x="644" y="126" fill="#9bd5d3" font-size="16">kg</text>

            <!-- stopwatch -->
            <g transform="translate(80,150)">
              <rect x="0" y="0" width="120" height="140" rx="10" fill="#072233"/>
              <circle cx="60" cy="65" r="36" fill="#08283a" stroke="#06b6d4"/>
              <line x1="60" y1="65" x2="60" y2="45" stroke="#aeeadf" stroke-width="3"/>
              <text x="20" y="130" fill="#9bd5d3">Stopwatch (time)</text>
            </g>

          </svg>
        </div>
      </div>
    </section>

    <!-- Electricity & Magnetism -->
    <section class="card" id="em">
      <h2>2 • Electricity & Magnetism — "Phone blood"</h2>
      <div class="row">
        <div class="col left">
          <p class="small">Voltage pushes, current flows, resistance slows. Magnetism is the invisible manager. Everything in electronics is a combo of these.</p>

          <h3>Ohm's law demo</h3>
          <div>
            <label>Voltage (V): <span id="Vval">5</span> V</label>
            <input id="V" type="range" min="0" max="24" value="5">
            <label>Resistance (Ω): <span id="Rval">10</span> Ω</label>
            <input id="R" type="range" min="1" max="100" value="10">
            <div class="kpi">Current = <strong id="Ival">0.5</strong> A</div>
          </div>

          <h3>Quick facts</h3>
          <ul class="small">
            <li>Power P = VI</li>
            <li>Series: R_total = R1 + R2</li>
            <li>Parallel: 1/R = 1/R1 + 1/R2</li>
          </ul>

          <h3>Magnetism hint</h3>
          <div class="small">Right-hand rule: Thumb = current, curled fingers = magnetic field direction.</div>
        </div>
        <div class="col">
          <!-- electron flow canvas -->
          <canvas id="wireCanvas" width="600" height="240" style="width:100%;background:#021426;border-radius:8px"></canvas>
        </div>
      </div>

      <!-- Semiconductor sub-section -->
      <div style="margin-top:12px">
        <h3>Semiconductors — interactive doping & diode</h3>
        <div class="row">
          <div class="col left">
            <label>Doping level (%): <span id="dopVal">5</span>%</label>
            <input id="doping" type="range" min="0" max="20" value="5">

            <div style="margin-top:8px" class="small">Diode (one-way). Transistor acts as switch & amplifier. Below is a simple diode visual — click to flip bias.</div>
            <button id="biasBtn">Apply Forward Bias</button>
            <div id="diodeState" class="small" style="margin-top:8px">State: Neutral</div>
          </div>
          <div class="col">
            <svg viewBox="0 0 400 160" style="width:100%" xmlns="http://www.w3.org/2000/svg">
              <rect x="0" y="0" width="400" height="160" rx="10" fill="#021827"/>
              <!-- diode -->
              <g transform="translate(40,40)">
                <line x1="0" y1="40" x2="60" y2="40" stroke="#9bd5d3" stroke-width="4"/>
                <polygon points="60,22 120,40 60,58" fill="#06b6d4" id="diodetri"/>
                <line x1="120" y1="40" x2="180" y2="40" stroke="#9bd5d3" stroke-width="4"/>
                <rect x="188" y="28" width="8" height="24" fill="#9bd5d3"/>
                <text x="10" y="12" fill="#aeeadf">Diode (triangle → bar)</text>
              </g>

              <!-- transistor cartoon -->
              <g transform="translate(220,28)">
                <rect x="0" y="0" width="150" height="110" rx="10" fill="#072633" stroke="#08364c"/>
                <text x="10" y="18" fill="#9bd5d3">Transistor (Switch)</text>
                <line x1="30" y1="40" x2="30" y2="80" stroke="#9bd5d3" stroke-width="3"/>
                <line x1="60" y1="40" x2="60" y2="80" stroke="#9bd5d3" stroke-width="3"/>
                <line x1="100" y1="60" x2="140" y2="60" stroke="#06b6d4" stroke-width="4" id="transWire"/>
              </g>
            </svg>
          </div>
        </div>
      </div>
    </section>

    <!-- Thermometry -->
    <section class="card" id="thermo">
      <h2>3 • Thermometry — "Judge of hotness"</h2>
      <div class="row">
        <div class="col left">
          <p class="small">Temperature measures average kinetic energy. Heat is energy flow. Celsius and Kelvin are related: K = °C + 273.15</p>

          <label>Temperature (°C): <span id="Tval">25</span> °C</label>
          <input id="T" type="range" min="-50" max="200" value="25">

          <div class="small" style="margin-top:8px">Thermal expansion demo below — see how a bar lengthens as temperature increases.</div>
        </div>
        <div class="col">
          <canvas id="thermoCanvas" width="600" height="200" style="width:100%;background:#031426;border-radius:8px"></canvas>
        </div>
      </div>
    </section>

    <!-- Fiber Optics -->
    <section class="card" id="fiber">
      <h2>4 • Fiber Optics — "Light highways"</h2>
      <div class="row">
        <div class="col left">
          <p class="small">Fiber uses total internal reflection to keep light trapped and carry data. Index of refraction difference keeps rays inside.</p>

          <label>Core index (n1): <span id="n1val">1.48</span></label>
          <input id="n1" type="range" min="1.3" max="1.8" step="0.01" value="1.48">
          <label>Cladding index (n2): <span id="n2val">1.40</span></label>
          <input id="n2" type="range" min="1.2" max="1.6" step="0.01" value="1.40">
          <label>Incident angle (°): <span id="angval">30</span></label>
          <input id="angle" type="range" min="0" max="80" value="30">
        </div>
        <div class="col">
          <canvas id="fiberCanvas" width="600" height="240" style="width:100%;background:#041427;border-radius:8px"></canvas>
        </div>
      </div>
    </section>

    <!-- Quiz and extra -->
    <section class="card quiz" id="quiz">
      <h2>Quick Quiz — Check understanding</h2>
      <div class="small">Answers at bottom. Try before looking!</div>
      <ol>
        <li>Convert 36 °C to Kelvin.</li>
        <li>If V = 12 V and R = 4 Ω, what is I?</li>
        <li>Name the principle that keeps light inside a fiber.</li>
      </ol>
      <button onclick="showAnswers()">Show Answers</button>
      <div id="answers" style="display:none;margin-top:8px" class="small">
        <ol>
          <li>309.15 K</li>
          <li>3 A</li>
          <li>Total internal reflection</li>
        </ol>
      </div>
    </section>

    <footer class="muted">Open this file in any modern browser. Use the sliders and buttons to test concepts. Replace media placeholders for images/videos you want to use.</footer>
  </div>

<script>
// --- Utilities ---
function $(s){return document.querySelector(s)}
// PDF export (html2pdf CDN) - button triggers runtime load if needed
$('#exportPdf').addEventListener('click', async ()=>{
  if(!window.html2pdf){
    const s=document.createElement('script');
    s.src='https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js';
    document.head.appendChild(s);
    s.onload=()=>downloadPdf();
  } else downloadPdf();
});
function downloadPdf(){
  const opt={margin:0.3,filename:'Physics_Interactive_Lessons.pdf',image:{type:'jpeg',quality:0.92},html2canvas:{scale:1},jsPDF:{unit:'in',format:'a4',orientation:'portrait'}};
  html2pdf().set(opt).from(document.body).save();
}

// --- Ohm's Law Demo & electron canvas animation ---
const V=document.getElementById('V'), R=document.getElementById('R');
const Vval=document.getElementById('Vval'), Rval=document.getElementById('Rval'), Ival=document.getElementById('Ival');
function updateOhm(){
  const v=+V.value, r=+R.value; Vval.textContent=v; Rval.textContent=r;
  const i = (r===0?0:(v/r)); Ival.textContent = Math.round(i*100)/100;
  // speed of electrons proportional to current
  setElectronSpeed(i);
}
V.addEventListener('input',updateOhm); R.addEventListener('input',updateOhm);
updateOhm();

// electron flow canvas
const wireCanvas=document.getElementById('wireCanvas');
const wctx=wireCanvas.getContext('2d');
let electrons=[]; let electronSpeed=1;
function initElectrons(){ electrons=[]; for(let i=0;i<40;i++){ electrons.push({x: Math.random()*wireCanvas.width, y: 60 + (Math.random()*120-60), r:2+Math.random()*2}) } }
initElectrons();
function setElectronSpeed(i){ electronSpeed = Math.max(0.2, i*6); }
function drawWire(){ wctx.clearRect(0,0,wireCanvas.width,wireCanvas.height); // draw wires
  wctx.fillStyle='#012030'; wctx.fillRect(20,40,wireCanvas.width-40,160);
  wctx.strokeStyle='#08364c'; wctx.lineWidth=4; wctx.strokeRect(20,40,wireCanvas.width-40,160);
  // draw electrons
  wctx.fillStyle='#06b6d4'; electrons.forEach(e=>{
    e.x += electronSpeed*0.6; if(e.x > wireCanvas.width-30) e.x = 30;
    wctx.beginPath(); wctx.arc(e.x, wireCanvas.height/2 + Math.sin(e.x/30)*20, e.r,0,Math.PI*2); wctx.fill();
  });
}
setInterval(drawWire,40);

// --- Diode bias toggle ---
let forward=false; const biasBtn=document.getElementById('biasBtn'), diodeState=document.getElementById('diodeState');
biasBtn.addEventListener('click',()=>{ forward = !forward; diodeState.textContent = forward ? 'State: Forward-biased (current flows)' : 'State: Reverse-biased (blocks current)'; document.getElementById('diodetri').setAttribute('fill', forward? '#7ef9d3' : '#06b6d4'); });

// --- Doping slider ---
document.getElementById('doping').addEventListener('input', e=>{ document.getElementById('dopVal').textContent = e.target.value; });

// --- Thermometry canvas (bar expansion) ---
const thermoCanvas=document.getElementById('thermoCanvas'); const tctx=thermoCanvas.getContext('2d');
const T=document.getElementById('T'); const Tval=document.getElementById('Tval');
function drawThermo(){ tctx.clearRect(0,0,thermoCanvas.width,thermoCanvas.height);
  const baseX=50, baseY=40; let temp=+T.value; Tval.textContent=temp;
  // bar base length and expansion coefficient alpha
  const L0 = 380; const alpha = 0.000012; // low alpha to show tiny expansion
  const deltaL = L0 * alpha * (temp - 20);
  tctx.fillStyle='#052b3a'; tctx.fillRect(baseX, 80, L0 + deltaL, 30);
  tctx.fillStyle='#9bd5d3'; tctx.fillText('Length: ' + Math.round((L0+deltaL)) + ' px (visual)', baseX, 70);
}
T.addEventListener('input', drawThermo); drawThermo();

// --- Fiber optics canvas (ray trace) ---
const fiberCanvas=document.getElementById('fiberCanvas'); const fctx=fiberCanvas.getContext('2d');
const n1=document.getElementById('n1'), n2=document.getElementById('n2'), angle=document.getElementById('angle');
const n1val=document.getElementById('n1val'), n2val=document.getElementById('n2val'), angval=document.getElementById('angval');
function drawFiber(){ fctx.clearRect(0,0,fiberCanvas.width,fiberCanvas.height);
  const coreX=60, coreY=20, coreW=fiberCanvas.width-120, coreH=fiberCanvas.height-40; 
  // draw core & cladding
  fctx.fillStyle='#063246'; fctx.fillRect(coreX, coreY, coreW, coreH);
  fctx.strokeStyle='#08364c'; fctx.strokeRect(coreX, coreY, coreW, coreH);
  fctx.fillStyle='#072b34'; fctx.fillRect(coreX-10, coreY-10, coreW+20, coreH+20);
  // draw incident ray
  const ang = +angle.value * Math.PI/180; n1val.textContent = n1.value; n2val.textContent = n2.value; angval.textContent = angle.value;
  const x0 = coreX+10, y0 = coreY + coreH/2;
  // incident ray comes from left
  const dx = Math.cos(ang); const dy = -Math.sin(ang);
  fctx.strokeStyle='#9be3d9'; fctx.lineWidth=2; fctx.beginPath(); fctx.moveTo(x0-80, y0+80); fctx.lineTo(x0, y0); fctx.lineTo(x0 + dx*200, y0 + dy*200); fctx.stroke();
  // check TIR condition using Snell's law: sin(theta_c) = n2/n1
  const n1v = parseFloat(n1.value), n2v = parseFloat(n2.value);
  const theta_i = Math.abs(ang); // angle relative to horizontal
  const sinCritical = n2v / n1v; const criticalExists = sinCritical <= 1;
  let criticalDeg = criticalExists ? Math.asin(sinCritical)*180/Math.PI : 90;
  fctx.fillStyle='#9bd5d3'; fctx.fillText('Critical angle: ' + Math.round(criticalDeg*10)/10 + '°', 12, 18);
  // If incident angle within core (relative to normal at internal surface), determine reflection
  // approximate: if incident angle > critical -> TIR
  const internalAngleDeg = 90 - angle.value; // rough mapping for our drawing
  const tir = criticalExists ? (internalAngleDeg > criticalDeg) : false;
  fctx.fillStyle = tir ? '#7ef9d3' : '#f59e0b';
  fctx.fillText(tir ? 'Ray: Totally internally reflected' : 'Ray: Escapes/cladding coupling', 12, 36);
}
n1.addEventListener('input', drawFiber); n2.addEventListener('input', drawFiber); angle.addEventListener('input', drawFiber); drawFiber();

// --- Reset button ---
$('#reset').addEventListener('click', ()=>{ V.value=5; R.value=10; document.getElementById('doping').value=5; T.value=25; n1.value=1.48; n2.value=1.40; angle.value=30; updateOhm(); drawThermo(); drawFiber(); initElectrons(); });

// --- Quiz answers ---
function showAnswers(){ document.getElementById('answers').style.display='block'; }

// --- Responsive canvas sizing for HD displays ---
function fitCanvases(){ [wireCanvas, thermoCanvas, fiberCanvas].forEach(c=>{ const ratio = window.devicePixelRatio || 1; c.width = Math.floor(c.clientWidth * ratio); c.height = Math.floor(c.clientHeight * ratio); const ctx = c.getContext('2d'); ctx.setTransform(ratio,0,0,ratio,0,0); }); }
window.addEventListener('resize', ()=>{ fitCanvases(); drawThermo(); drawFiber(); }); fitCanvases();

</script>
</body>
</html>
